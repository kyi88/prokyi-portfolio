import{a,j as e,m as L}from"./framer-motion-DjJR-6Ks.js";const A=[{name:"sudo rm -rf doubt",dmg:18,msg:"prokyi-v2.6 ãŒè‡ªä¿¡ã‚’ root æ¨©é™ã§æ³¨å…¥ï¼"},{name:"pip install victory",dmg:15,msg:"prokyi-v2.6 ãŒå‹åˆ©ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼"},{name:"git push --force",dmg:22,msg:"prokyi-v2.6 ãŒç›¸æ‰‹ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’å¼·åˆ¶ä¸Šæ›¸ãï¼"},{name:"import tensorflow",dmg:20,msg:"prokyi-v2.6 ãŒãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ“ãƒ¼ãƒ ã‚’ç™ºå°„ï¼"},{name:"docker compose up",dmg:12,msg:"prokyi-v2.6 ãŒã‚³ãƒ³ãƒ†ãƒŠè»å›£ã‚’å¬å–šï¼"},{name:"omakase-ultimate",dmg:99,msg:"prokyi-v2.6 ã®ãŠã¾ã‹ã›å¿…æ®ºæŠ€ï¼ğŸ£ å¯¿å¸æ„›ã®æ³¢å‹•ï¼"}],M=[{name:"CorporateDrone-3B",moves:["TPS Report","Meeting Overhead","Synergy Buzzword"],weakness:"Linux"},{name:"NoTests-YOLO-7B",moves:["Deploy to Prod","Skip CI/CD","Blame Others"],weakness:"Docker"},{name:"Legacy-COBOL-1B",moves:["PERFORM ATTACK","GOTO DAMAGE","DIVISION BY ZERO"],weakness:"Python"},{name:"StackOverflow-13B",moves:["Copy Paste","Duplicate Question","Reputation Farm"],weakness:"Creativity"},{name:"Buzzword-Enterprise-70B",moves:["Paradigm Shift","Disruptive Innovation","Blockchain Everything"],weakness:"Reality"}],k={name:"GPT-âˆ",moves:["Infinite Context","Hallucination Beam","Token Overflow"],weakness:"å¯¿å¸æ„›",hp:150};function D(){const[m,E]=a.useState(!1),[R,w]=a.useState(100),[O,N]=a.useState(100),[l,b]=a.useState(()=>M[0]),[j,i]=a.useState([]),[v,o]=a.useState(!1),[d,u]=a.useState(null),[h,I]=a.useState(0),[t,S]=a.useState(!1),p=a.useRef(null),y=a.useRef(null),_=a.useRef(null);a.useEffect(()=>{const s=c=>{c.key==="Escape"&&m&&E(!1)},n=()=>E(c=>!c);return window.addEventListener("keydown",s),window.addEventListener("prokyi-arena-toggle",n),()=>{window.removeEventListener("keydown",s),window.removeEventListener("prokyi-arena-toggle",n)}},[m]),a.useEffect(()=>()=>{clearInterval(p.current),clearTimeout(y.current)},[]),a.useEffect(()=>{_.current&&(_.current.scrollTop=_.current.scrollHeight)},[j]);const g=a.useCallback(()=>{w(100),N(100),i([]),u(null),o(!1)},[]),B=a.useCallback(()=>{const s=M[Math.floor(Math.random()*M.length)];b(s),S(!1),g()},[g]),T=a.useCallback(()=>{b(k),S(!0),w(100),N(k.hp),i([{text:"âš  éš ã—ãƒœã‚¹ GPT-âˆ ãŒå‡ºç¾ï¼å…¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹999ï¼",type:"system"}]),u(null),o(!1)},[]);a.useEffect(()=>{m||(clearInterval(p.current),clearTimeout(y.current),o(!1),u(null),I(0),S(!1),g())},[m,g]),a.useEffect(()=>{h>=10&&!t&&(clearTimeout(y.current),y.current=setTimeout(()=>T(),2e3))},[h,t,T]);const P=a.useCallback(()=>{if(v)return;o(!0),i([{text:"--- ROUND START ---",type:"system"}]);let s=100,n=t?k.hp:100,c=0;p.current=setInterval(()=>{if(c++,c%2===1){const f=t&&n<50?A[5]:A[Math.floor(Math.random()*5)],x=Math.floor(f.dmg*(.8+Math.random()*.4));n=Math.max(0,n-x),N(n),i(H=>[...H,{text:`${f.msg} (-${x}HP)`,type:"prokyi"}])}else{const r=Math.floor(Math.random()*l.moves.length),f=Math.floor((8+Math.random()*14)*(t?1.5:1));s=Math.max(0,s-f),w(s),i(x=>[...x,{text:`${l.name} ã® ${l.moves[r]}! (-${f}HP)`,type:"enemy"}])}n<=0?(clearInterval(p.current),o(!1),u("win"),I(r=>r+1),t?(i(r=>[...r,{text:"ğŸ‰ äººé¡ã®å‹åˆ©ï¼GPT-âˆ ã‚’å€’ã—ãŸï¼ğŸ£",type:"system"}]),window.dispatchEvent(new CustomEvent("prokyi-confetti"))):i(r=>[...r,{text:`${l.name} ã‚’æ’ƒç ´ï¼`,type:"system"}])):s<=0&&(clearInterval(p.current),o(!1),u("lose"),I(0),i(r=>[...r,{text:"prokyi-v2.6 ãƒ€ã‚¦ãƒ³â€¦ å†èµ·å‹•ä¸­â€¦",type:"system"}]))},800)},[v,l,t,T]);if(!m)return null;const C=t?k.hp:100;return e.jsxs(L.div,{className:"ai-arena",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.15},role:"dialog","aria-label":"AI Model Arena","aria-modal":"true",children:[e.jsxs("div",{className:"ai-arena__header",children:[e.jsx("span",{children:"âš”ï¸ AI MODEL ARENA"}),e.jsxs("div",{style:{display:"flex",gap:6},children:[!v&&d&&!t&&e.jsx("button",{className:"ai-arena__btn",onClick:B,children:"NEXT â–¶"}),!v&&!d&&e.jsx("button",{className:"ai-arena__btn ai-arena__btn--fight",onClick:P,children:"âš” FIGHT"}),e.jsx("button",{className:"ai-arena__btn",onClick:()=>E(!1),"aria-label":"Close",children:"âœ•"})]})]}),e.jsxs("div",{className:"ai-arena__fighters",children:[e.jsxs("div",{className:"ai-arena__fighter",children:[e.jsx("div",{className:"ai-arena__fighter-name ai-arena__fighter-name--prokyi",children:"prokyi-v2.6"}),e.jsx("div",{className:"ai-arena__hp-bar",children:e.jsx("div",{className:"ai-arena__hp-fill ai-arena__hp-fill--prokyi",style:{width:`${R}%`}})}),e.jsxs("div",{className:"ai-arena__stats",children:["HP: ",R,"/100 | Python:95 | Linux:92 | AI:88"]})]}),e.jsx("div",{className:"ai-arena__vs",children:"VS"}),e.jsxs("div",{className:"ai-arena__fighter",children:[e.jsx("div",{className:"ai-arena__fighter-name ai-arena__fighter-name--enemy",children:l.name}),e.jsx("div",{className:"ai-arena__hp-bar",children:e.jsx("div",{className:"ai-arena__hp-fill ai-arena__hp-fill--enemy",style:{width:`${O/C*100}%`}})}),e.jsxs("div",{className:"ai-arena__stats",children:["HP: ",O,"/",C," | å¼±ç‚¹: ",l.weakness]})]})]}),e.jsxs("div",{className:"ai-arena__log",ref:_,children:[j.map((s,n)=>e.jsx("div",{className:`ai-arena__log-line ai-arena__log-line--${s.type}`,children:s.text},n)),j.length===0&&e.jsx("div",{style:{color:"#555",textAlign:"center"},children:"âš” FIGHT ã‚’æŠ¼ã—ã¦ãƒãƒˆãƒ«é–‹å§‹"})]}),d&&e.jsx("div",{className:`ai-arena__result ai-arena__result--${d}`,children:d==="win"?"ğŸ† VICTORY!!":"ğŸ’€ DEFEAT..."}),e.jsxs("div",{className:"ai-arena__status",children:[h>0&&e.jsxs("span",{className:"ai-arena__streak",children:[h,"é€£å‹ä¸­ï¼"]}),h>=10&&!t&&" ğŸ‘€ ä½•ã‹ãŒè¿‘ã¥ã„ã¦ãã‚‹â€¦"," ","Wins trigger boss at 10 streak"]})]})}const F=a.memo(D);export{F as default};

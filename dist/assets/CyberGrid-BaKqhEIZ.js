import{a as v,j as z}from"./framer-motion-DjJR-6Ks.js";function I(){const p=v.useRef(null);return v.useEffect(()=>{const t=p.current;if(!t||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const g=window.matchMedia("(pointer: coarse)").matches,e=t.getContext("2d");let o=null,a=-1e3,s=-1e3;const i=30,C=120;let l=!0,r=getComputedStyle(document.documentElement).getPropertyValue("--c-accent").trim()||"#4facfe";const P=()=>{if(o=null,!l)return;l=!1,e.clearRect(0,0,t.width,t.height);const n=Math.ceil(t.width/i),A=Math.ceil(t.height/i);for(let m=0;m<A;m++)for(let u=0;u<n;u++){const f=u*i,h=m*i,x=f-a,M=h-s,L=Math.sqrt(x*x+M*M),w=Math.max(0,1-L/C);if(w>0){const S=1+w*2.5,R=.03+w*.3;e.globalAlpha=R,e.fillStyle=r,e.beginPath(),e.arc(f,h,S,0,Math.PI*2),e.fill()}else e.globalAlpha=.03,e.fillStyle=r,e.beginPath(),e.arc(f,h,1,0,Math.PI*2),e.fill()}e.globalAlpha=1},c=()=>{l=!0,o||(o=requestAnimationFrame(P))},d=()=>{t.width=window.innerWidth,t.height=window.innerHeight,r=getComputedStyle(document.documentElement).getPropertyValue("--c-accent").trim()||"#4facfe",c()};d();const y=n=>{a=n.clientX,s=n.clientY,c()},b=()=>{a=-1e3,s=-1e3,c()},E=new MutationObserver(()=>{const n=getComputedStyle(document.documentElement).getPropertyValue("--c-accent").trim()||"#4facfe";n!==r&&(r=n,c())});return E.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),window.addEventListener("resize",d),g||(window.addEventListener("mousemove",y,{passive:!0}),window.addEventListener("mouseleave",b)),c(),()=>{o&&cancelAnimationFrame(o),E.disconnect(),window.removeEventListener("resize",d),g||(window.removeEventListener("mousemove",y),window.removeEventListener("mouseleave",b))}},[]),z.jsx("canvas",{ref:p,className:"cyber-grid","aria-hidden":"true"})}const D=v.memo(I);export{D as default};

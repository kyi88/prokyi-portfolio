import{a,j as x}from"./framer-motion-DjJR-6Ks.js";const m=30,g=["#4facfe","#00f2fe","#a78bfa","#ff2d87","#fbbf24"];function M(){const l=a.useRef(null),d=a.useRef(new Set);return a.useEffect(()=>{const n=l.current;if(!n||window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const o=n.getContext("2d");let s=[],i=null;const c=()=>{n.width=window.innerWidth,n.height=window.innerHeight};c(),window.addEventListener("resize",c);const w=r=>{for(let t=0;t<m;t++){const e=Math.PI*2*t/m+(Math.random()-.5)*.5,u=2+Math.random()*4;s.push({x:n.width/2+(Math.random()-.5)*n.width*.6,y:r,vx:Math.cos(e)*u,vy:Math.sin(e)*u-1,life:1,decay:.015+Math.random()*.015,size:2+Math.random()*3,color:g[Math.floor(Math.random()*g.length)]})}},f=()=>{o.clearRect(0,0,n.width,n.height);let r=0;for(let t=0;t<s.length;t++){const e=s[t];e.x+=e.vx,e.y+=e.vy,e.vy+=.06,e.life-=e.decay,!(e.life<=0)&&(s[r++]=e,o.globalAlpha=e.life,o.beginPath(),o.arc(e.x,e.y,e.size*e.life,0,Math.PI*2),o.fillStyle=e.color,o.fill())}s.length=r,o.globalAlpha=1,s.length>0?i=requestAnimationFrame(f):i=null},v=["profile","career","goals","status","gadgets","links"],h=new IntersectionObserver(r=>{r.forEach(t=>{if(t.isIntersecting&&!d.current.has(t.target.id)){d.current.add(t.target.id);const e=t.target.getBoundingClientRect();w(e.top),i||(i=requestAnimationFrame(f))}})},{threshold:.2}),p=setTimeout(()=>{v.forEach(r=>{const t=document.getElementById(r);t&&h.observe(t)})},1e3);return()=>{clearTimeout(p),h.disconnect(),window.removeEventListener("resize",c),i&&cancelAnimationFrame(i)}},[]),x.jsx("canvas",{ref:l,className:"scroll-burst","aria-hidden":"true",style:{position:"fixed",inset:0,zIndex:950,pointerEvents:"none"}})}const E=a.memo(M);export{E as default};

import{a as s,j as t,m as g}from"./framer-motion-DjJR-6Ks.js";const b=["A","C","G","T"],h=16,k=[{pattern:/ACGT/i,name:"Neural Overclock",desc:"Synaptic processing speed +300%. Side effect: dreams in binary."},{pattern:/GGGG/i,name:"Infinite Memory",desc:"RAM allocation: âˆ. All Stack Overflow answers cached locally."},{pattern:/TTTT/i,name:"Temporal Shift",desc:"Time perception slowed 10x. Deadlines feel like eternities."},{pattern:/AAAA/i,name:"Code Immunity",desc:"All bugs repelled. NullPointerException extinct in host genome."},{pattern:/CCCC/i,name:"Crypto Vision",desc:"Blockchain visible to naked eye. Can smell private keys."},{pattern:/ACAC/i,name:"Sushi Synthesis",desc:"Body can now photosynthesize sushi from ambient WiFi signals."},{pattern:/TGCA/i,name:"Kernel Fusion",desc:"Linux kernel merged with consciousness. Root access: permanent."},{pattern:/GCAT/i,name:"Docker Clone",desc:"Can containerize own personality. Deploy copies across servers."}],x=["MUTATION WARNING: Unstable codon detected at position {pos}.","COMPILE ERROR: Ribosome overflow at block {pos}.","WARNING: Genetic drift detected. Re-sequencing recommended.","NOTICE: Telomere length insufficient. Consider TTAGGG extension."];function G(i){if(i.length<4)return{type:"error",text:"âš  Minimum 4 base pairs required for compilation."};const c=i.join(""),r=[];for(const o of k)o.pattern.test(c)&&r.push(o);if(r.length===0||Math.random()<.2){const o=x[Math.floor(Math.random()*x.length)],p=Math.floor(Math.random()*i.length)+1,a=o.replace("{pos}",String(p));if(r.length===0)return{type:"error",text:`${a}

No valid cybernetic patterns detected.
Try: ACGT, GGGG, TTTT, AAAA, CCCC, TGCA`};const d=r.map(u=>`âœ… ${u.name}
   ${u.desc}`).join(`

`);return{type:"success",text:`${a}

--- COMPILED ABILITIES ---

${d}`}}const m=r.map(o=>`âœ… ${o.name}
   ${o.desc}`).join(`

`);return{type:"success",text:`--- WETWARE COMPILATION SUCCESSFUL ---
Sequence: ${c}
Length: ${i.length} bp

${m}`}}function S(){const[i,c]=s.useState(!1),[r,m]=s.useState([]),[o,p]=s.useState({type:"",text:""}),[a,d]=s.useState(!1),[u,w]=s.useState(!1),f=s.useRef(null),C=s.useRef(null);s.useEffect(()=>{const e=l=>{l.key==="Escape"&&i&&c(!1)},n=()=>c(l=>!l);return window.addEventListener("keydown",e),window.addEventListener("prokyi-wetware-toggle",n),()=>{window.removeEventListener("keydown",e),window.removeEventListener("prokyi-wetware-toggle",n)}},[i]),s.useEffect(()=>()=>{clearTimeout(f.current),clearTimeout(C.current)},[]),s.useEffect(()=>{i||(m([]),p({type:"",text:""}),d(!1),w(!1),clearTimeout(f.current),clearTimeout(C.current))},[i]);const T=s.useCallback(e=>{m(n=>n.length>=h?n:[...n,e])},[]),y=s.useCallback(e=>{m(n=>n.filter((l,E)=>E!==e))},[]),A=s.useCallback(()=>{m([]),p({type:"",text:""})},[]);s.useEffect(()=>{if(!i||u)return;r.join("").includes("GATTACA")&&(w(!0),C.current=setTimeout(()=>w(!1),4e3))},[r,i,u]);const _=s.useCallback(()=>{r.length===0||a||(d(!0),p({type:"",text:`Initializing ribosomes...
Translating codons...
Assembling proteins...`}),f.current=setTimeout(()=>{const e=G(r);p(e),d(!1)},1500))},[r,a]);return i?t.jsxs(g.div,{className:"wetware-compiler",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.15},role:"dialog","aria-label":"Wetware Compiler","aria-modal":"true",children:[t.jsxs("div",{className:"wetware-compiler__header",children:[t.jsx("span",{children:"ğŸ§¬ WETWARE COMPILER"}),t.jsx("button",{className:"wetware-compiler__btn",onClick:()=>c(!1),"aria-label":"Close",children:"âœ•"})]}),t.jsx("div",{className:"wetware-compiler__palette",children:b.map(e=>t.jsx("div",{className:`wetware-compiler__base wetware-compiler__base--${e}`,onClick:()=>T(e),onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),T(e))},role:"button",tabIndex:0,"aria-label":`Add base ${e}`,children:e},e))}),t.jsx("div",{className:"wetware-compiler__sequence",children:r.length===0?t.jsxs("span",{className:"wetware-compiler__seq-placeholder",children:["Click bases above to build your sequence (max ",h,")"]}):r.map((e,n)=>t.jsx("div",{className:`wetware-compiler__seq-block wetware-compiler__seq-block--${e}`,onClick:()=>y(n),onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),y(n))},role:"button",tabIndex:0,"aria-label":`Remove base ${e} at position ${n+1}`,title:"Click to remove",children:e},`${n}-${e}`))}),t.jsxs("div",{className:"wetware-compiler__actions",children:[t.jsx("button",{className:"wetware-compiler__btn",onClick:_,disabled:a||r.length===0,children:a?"â³ COMPILING...":"â–¶ COMPILE"}),t.jsx("button",{className:"wetware-compiler__btn",onClick:A,children:"â†» CLEAR"}),t.jsxs("span",{style:{fontSize:".72rem",color:"#555",alignSelf:"center",marginLeft:"auto"},children:[r.length,"/",h," bp"]})]}),t.jsx("div",{className:`wetware-compiler__output${o.type==="success"?" wetware-compiler__output--success":o.type==="error"?" wetware-compiler__output--error":""}${a?" wetware-compiler__output--compiling":""}`,children:o.text||"Awaiting genetic sequence input..."}),t.jsx("div",{className:"wetware-compiler__status",children:"Try patterns: ACGT, GGGG, TGCA, GATTACA..."}),u&&t.jsxs("div",{className:"wetware-compiler__genome",children:[t.jsx("h2",{children:"PERFECT GENOME DETECTED"}),t.jsxs("p",{children:["éºä¼å­æ”¹é€ ãƒ¬ãƒ™ãƒ«: âˆ",t.jsx("br",{}),"ã€Œå®Œç’§ãªéºä¼å­ã¯å®Œç’§ãªå¯¿å¸è·äººã‚’ç”Ÿã‚€ã€"]})]})]}):null}const N=s.memo(S);export{N as default};

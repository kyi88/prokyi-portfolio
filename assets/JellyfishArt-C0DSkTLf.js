import{a as E,j as O}from"./framer-motion-DjJR-6Ks.js";const T=typeof window<"u"&&(window.innerWidth<=768||/Mobi|Android|iPhone/i.test(navigator.userAgent)),j=15e3,B=15e3,C=1200,q=1200,z=30,N=24;function k(){const w=E.useRef(null),o=E.useRef(null),h=E.useRef(0),f=E.useRef(!document.hidden);return E.useEffect(()=>{const l=w.current;if(!l)return;const c=l.getContext("2d",{alpha:!0});if(!c)return;const g=T,P=g?q:C,I=g?B:j,S=g?N:z,v=Math.min(window.devicePixelRatio||1,2);let t,m,x;const i=I,b=new Float32Array(i),R=new Float32Array(i),d=new Float32Array(i),y=new Float32Array(i),M=new Uint8Array(i);for(let n=0;n<i;n++){const r=n/99,e=8*Math.cos(r),u=r/8-12,A=Math.sqrt(e*e+u*u);b[n]=r,R[n]=e,d[n]=u,y[n]=A*A*A/999+1,M[n]=n&1}const s=()=>{const n=window.innerWidth,r=window.innerHeight,e=Math.max(n,r)*v,u=e>P?P/e:1;t=Math.round(n*v*u),m=Math.round(r*v*u),l.width=t,l.height=m,x=Math.min(t,m)/400};if(s(),window.addEventListener("resize",s),window.matchMedia("(prefers-reduced-motion: reduce)").matches)return D(c,t,m,x,i,Math.PI/4,R,d,y,M),()=>window.removeEventListener("resize",s);const p=()=>{f.current=!document.hidden};document.addEventListener("visibilitychange",p);let _=0;const L=1e3/S,F=n=>{o.current=requestAnimationFrame(F),f.current&&(n-_<L||(_=n,h.current+=Math.PI/45,D(c,t,m,x,i,h.current,R,d,y,M)))};return o.current=requestAnimationFrame(F),()=>{o.current&&cancelAnimationFrame(o.current),window.removeEventListener("resize",s),document.removeEventListener("visibilitychange",p);try{c.clearRect(0,0,l.width,l.height)}catch{}}},[]),O.jsx("div",{className:"jellyfish-art","aria-hidden":"true",children:O.jsx("canvas",{ref:w,className:"jellyfish-art__canvas"})})}function D(w,o,h,f,l,c,g,P,I,S){w.clearRect(0,0,o,h);const v=w.getImageData(0,0,o,h),t=v.data,m=o/2,x=h/2,i=c/2,b=c/8,R=f>1.5;for(let d=l;d--;){const y=g[d],M=P[d],s=I[d],p=79-M*Math.sin(y)+y/s*(8+4*Math.sin(s*s-c+Math.cos(M+i))),_=s/2+M/99*Math.sin(c+s)-b+S[d]*3,L=Math.sin(_),F=Math.cos(_),n=p*L*f+m|0,r=(p+40)*F*f+x-10*f|0;if(n<0||n>=o||r<0||r>=h)continue;const e=r*o+n<<2;if(t[e]=t[e]+90<256?t[e]+90:255,t[e+1]=t[e+1]+180<256?t[e+1]+180:255,t[e+2]=t[e+2]+220<256?t[e+2]+220:255,t[e+3]=255,R&&s<3){const u=n+1,A=r+1;if(u<o&&A<h){const a=A*o+u<<2;t[a]=t[a]+60<256?t[a]+60:255,t[a+1]=t[a+1]+130<256?t[a+1]+130:255,t[a+2]=t[a+2]+170<256?t[a+2]+170:255,t[a+3]=255}}}w.putImageData(v,0,0)}const J=E.memo(k);export{J as default};

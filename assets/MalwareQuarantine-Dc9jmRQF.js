import{a as t,j as a,m as x}from"./framer-motion-DjJR-6Ks.js";const l=[{name:"caffeine_overflow.exe",path:"/home/prokyi/.local/bin/",level:"critical",desc:"ã‚«ãƒ•ã‚§ã‚¤ãƒ³ä¸è€æ€§ãªã®ã«ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’é£²ã‚‚ã†ã¨ã™ã‚‹"},{name:"sleep_deprivation.dll",path:"/usr/lib/prokyi/",level:"critical",desc:"æ·±å¤œ3æ™‚ã‚’éŽãŽã¦ã‚‚ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãç¶šã‘ã‚‹"},{name:"excessive_git_commits.sys",path:"/dev/prokyi/",level:"high",desc:"1æ—¥30ã‚³ãƒŸãƒƒãƒˆä»¥ä¸Šã®gitä¸­æ¯’"},{name:"passion_for_ai.ko",path:"/home/prokyi/.hidden/",level:"low",desc:"AI/DSå­¦ç¿’ã¸ã®æ­¢ã¾ã‚‰ãªã„æƒ…ç†±"},{name:"gaming_addiction.worm",path:"/opt/games/",level:"high",desc:"AYN Thor MAX ã§é€šå­¦æ™‚é–“å…¨éƒ¨ã‚²ãƒ¼ãƒ "},{name:"sushi_nostalgia.trojan",path:"/var/cache/memories/",level:"low",desc:"å¯¿å¸å±‹ãƒã‚¤ãƒˆã®æ€ã„å‡ºãŒå¿˜ã‚Œã‚‰ã‚Œãªã„"},{name:"procrastination.pup",path:"/tmp/prokyi/",level:"high",desc:"PUP: Potentially Unwanted Procrastination"},{name:"linux_evangelism.adware",path:"/etc/prokyi.d/",level:"low",desc:"å…¨å“¡ã«Linuxã‚’å‹§ã‚ã¦ã—ã¾ã†ç—‡çŠ¶"}],y=500;function q(){const[s,m]=t.useState(!1),[u,h]=t.useState(!1),[o,p]=t.useState([]),[r,_]=t.useState({}),c=t.useRef(null);t.useEffect(()=>{const e=i=>{i.key==="Escape"&&s&&m(!1)},n=()=>m(i=>!i);return window.addEventListener("keydown",e),window.addEventListener("prokyi-quarantine-toggle",n),()=>{window.removeEventListener("keydown",e),window.removeEventListener("prokyi-quarantine-toggle",n)}},[s]),t.useEffect(()=>{if(!s){clearInterval(c.current),h(!1),p([]),_({}),v.current=!1;return}h(!0);let e=0;return c.current=setInterval(()=>{if(e>=l.length){clearInterval(c.current),h(!1);return}p(n=>[...n,l[e]]),e++},y),()=>clearInterval(c.current)},[s]);const w=t.useCallback((e,n)=>{_(i=>({...i,[e]:n}))},[]),f=o.length===l.length&&!u&&Object.keys(r).length===l.length,d=f&&Object.values(r).every(e=>e==="allowed"),v=t.useRef(!1);if(t.useEffect(()=>{d&&!v.current&&(v.current=!0,window.dispatchEvent(new CustomEvent("prokyi-confetti")))},[d]),!s)return null;const g=l.length>0?o.length/l.length*100:0;return a.jsxs(x.div,{className:"malware-quarantine",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},role:"dialog","aria-label":"Malware Quarantine Scanner","aria-modal":"true",children:[a.jsxs("div",{className:"malware-quarantine__header",children:[a.jsx("span",{children:"ðŸ›¡ï¸ ClamAV THREAT SCANNER"}),a.jsx("button",{className:"malware-quarantine__close",onClick:()=>m(!1),"aria-label":"Close",children:"âœ•"})]}),u&&a.jsx("div",{className:"malware-quarantine__progress",children:a.jsx("div",{className:"malware-quarantine__progress-bar",style:{width:`${g}%`}})}),a.jsxs("div",{className:"malware-quarantine__body",children:[o.map((e,n)=>a.jsxs("div",{className:"malware-quarantine__threat",children:[a.jsxs("div",{className:"malware-quarantine__threat-info",children:[a.jsx("div",{className:"malware-quarantine__threat-name",children:e.name}),a.jsxs("div",{className:"malware-quarantine__threat-path",children:[e.path,e.name]})]}),a.jsx("span",{className:`malware-quarantine__threat-level malware-quarantine__threat-level--${e.level}`,children:e.level.toUpperCase()}),r[n]?a.jsx("span",{className:`malware-quarantine__resolved malware-quarantine__resolved--${r[n]}`,children:r[n]==="quarantined"?"ðŸ”’":"âœ“"}):a.jsxs("div",{className:"malware-quarantine__actions",children:[a.jsx("button",{className:"malware-quarantine__btn malware-quarantine__btn--quarantine",onClick:()=>w(n,"quarantined"),"aria-label":`Quarantine ${e.name}`,children:"éš”é›¢"}),a.jsx("button",{className:"malware-quarantine__btn malware-quarantine__btn--allow",onClick:()=>w(n,"allowed"),"aria-label":`Allow ${e.name}`,children:"è¨±å¯"})]})]},n)),u&&a.jsxs("div",{style:{color:"#f44",fontSize:"0.55rem",marginTop:8},children:["Scanning /home/prokyi/... ",o.length,"/",l.length]}),d&&a.jsxs("div",{className:"malware-quarantine__summary",style:{color:"#0f0"},children:["You trusted prokyi. Good choice. ðŸ¤",a.jsx("br",{}),"SYSTEM COMPROMISED â€” confetti deployed."]}),f&&!d&&a.jsxs("div",{className:"malware-quarantine__summary",children:[Object.values(r).filter(e=>e==="quarantined").length," threats quarantined. System secured."]})]})]})}const N=t.memo(q);export{N as default};

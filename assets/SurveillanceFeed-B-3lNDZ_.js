import{a as e,j as s}from"./framer-motion-DjJR-6Ks.js";const v=[{id:"CAM-01",section:"profile",label:"PROFILE"},{id:"CAM-02",section:"career",label:"CAREER"},{id:"CAM-03",section:"goals",label:"GOALS"},{id:"CAM-04",section:"status",label:"STATUS"},{id:"CAM-05",section:"gadgets",label:"GADGETS"},{id:"CAM-06",section:"links",label:"LINKS"}],S=8e3;function N(){const[l,w]=e.useState(0),[C,x]=e.useState(!1),[E,R]=e.useState(""),p=e.useRef(null),i=e.useRef({x:0,y:0}),h=e.useRef(null),o=e.useRef(null),r=e.useRef(null),a=e.useRef(!1),u=e.useRef({x:0,y:0});e.useEffect(()=>(h.current=setInterval(()=>{x(!0),clearTimeout(o.current),o.current=setTimeout(()=>x(!1),300),w(t=>(t+1)%v.length)},S),()=>{clearInterval(h.current),clearTimeout(o.current)}),[]),e.useEffect(()=>{const t=()=>R(new Date().toLocaleTimeString("ja-JP"));t();const n=setInterval(t,1e3);return()=>clearInterval(n)},[]);const b=e.useCallback(()=>{if(a.current)return;const t=v[l],n=document.getElementById(t.section);n&&n.scrollIntoView({behavior:"smooth",block:"start"})},[l]);e.useEffect(()=>()=>{r.current&&(window.removeEventListener("pointermove",r.current.onMove),window.removeEventListener("pointerup",r.current.onUp),r.current=null)},[]);const M=e.useCallback(t=>{const n=p.current;if(!n)return;n.setPointerCapture(t.pointerId);const _=n.getBoundingClientRect();i.current={x:t.clientX-_.left,y:t.clientY-_.top},a.current=!1,u.current={x:t.clientX,y:t.clientY};const f=c=>{const y=c.clientX-u.current.x,g=c.clientY-u.current.y;Math.abs(y)+Math.abs(g)>5&&(a.current=!0);const j=c.clientX-i.current.x,A=c.clientY-i.current.y;n.style.left=`${Math.max(0,Math.min(window.innerWidth-180,j))}px`,n.style.top=`${Math.max(0,Math.min(window.innerHeight-120,A))}px`,n.style.right="auto",n.style.bottom="auto"},m=()=>{window.removeEventListener("pointermove",f),window.removeEventListener("pointerup",m),r.current=null};r.current={onMove:f,onUp:m},window.addEventListener("pointermove",f),window.addEventListener("pointerup",m)},[]),d=v[l];return s.jsx("div",{ref:p,className:"surveillance-feed",onPointerDown:M,style:{touchAction:"none"},onClick:b,title:`Click to scroll to ${d.label}`,children:s.jsxs("div",{className:"surveillance-feed__content",children:[s.jsx("div",{className:"surveillance-feed__label",children:d.label}),s.jsx("div",{className:"surveillance-feed__crosshair"}),s.jsx("div",{className:"surveillance-feed__scanlines"}),s.jsx("div",{className:`surveillance-feed__noise${C?" surveillance-feed__noise--active":""}`}),s.jsxs("div",{className:"surveillance-feed__hud",children:[s.jsxs("span",{className:"surveillance-feed__rec",children:[s.jsx("span",{className:"surveillance-feed__rec-dot"}),"REC"]}),s.jsx("span",{children:E})]}),s.jsx("div",{className:"surveillance-feed__sector",children:d.id})]})})}const L=e.memo(N);export{L as default};

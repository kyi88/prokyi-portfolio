import{a as w,j as I}from"./framer-motion-DjJR-6Ks.js";const b=typeof window<"u"&&(window.innerWidth<=768||/Mobi|Android|iPhone/i.test(navigator.userAgent)),A=15e3,L=15e3,O=1200,D=1200,F=30,j=24;function T(){const l=w.useRef(null),n=w.useRef(null),c=w.useRef(0),M=w.useRef(!document.hidden);return w.useEffect(()=>{const d=l.current;if(!d)return;const o=d.getContext("2d",{alpha:!0});if(!o)return;const v=b,t=v?D:O,p=v?L:A,y=v?j:F,g=Math.min(window.devicePixelRatio||1,2);let a,u,h;const i=()=>{const e=window.innerWidth,m=window.innerHeight,s=Math.max(e,m)*g,R=s>t?t/s:1;a=Math.round(e*g*R),u=Math.round(m*g*R),d.width=a,d.height=u,h=Math.min(a,u)/400};if(i(),window.addEventListener("resize",i),window.matchMedia("(prefers-reduced-motion: reduce)").matches)return S(o,a,u,h,p,Math.PI/4),()=>window.removeEventListener("resize",i);const E=()=>{M.current=!document.hidden};document.addEventListener("visibilitychange",E);let r=0;const _=1e3/y,x=e=>{n.current=requestAnimationFrame(x),M.current&&(e-r<_||(r=e,c.current+=Math.PI/45,S(o,a,u,h,p,c.current)))};return n.current=requestAnimationFrame(x),()=>{n.current&&cancelAnimationFrame(n.current),window.removeEventListener("resize",i),document.removeEventListener("visibilitychange",E);try{o.clearRect(0,0,d.width,d.height)}catch{}}},[]),I.jsx("div",{className:"jellyfish-art","aria-hidden":"true",children:I.jsx("canvas",{ref:l,className:"jellyfish-art__canvas"})})}function S(l,n,c,M,d,o){l.clearRect(0,0,n,c);const v=l.getImageData(0,0,n,c),t=v.data,p=n/2,y=c/2,g=d;for(let a=g;a--;){const u=a/99,h=8*Math.cos(u),i=u/8-12,E=Math.sqrt(h*h+i*i),r=E*E*E/999+1,_=79-i*Math.sin(h)+h/r*(8+4*Math.sin(r*r-o+Math.cos(i+o/2))),x=r/2+i/99*Math.sin(o+r)-o/8+a%2*3,e=(_*Math.sin(x)+200-200)*M+p|0,m=((_+40)*Math.cos(x)+190-200)*M+y|0;if(e<0||e>=n||m<0||m>=c)continue;const s=(m*n+e)*4;if(t[s]=Math.min(255,t[s]+90),t[s+1]=Math.min(255,t[s+1]+180),t[s+2]=Math.min(255,t[s+2]+220),t[s+3]=255,M>1.5&&r<3){const R=e+1,P=m+1;if(R<n&&P<c){const f=(P*n+R)*4;t[f]=Math.min(255,t[f]+60),t[f+1]=Math.min(255,t[f+1]+130),t[f+2]=Math.min(255,t[f+2]+170),t[f+3]=255}}}l.putImageData(v,0,0)}const z=w.memo(T);export{z as default};

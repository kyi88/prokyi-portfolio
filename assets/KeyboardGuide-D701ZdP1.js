import{a as c,j as t,A as y,m as d}from"./framer-motion-DjJR-6Ks.js";const m=[{keys:["Ctrl+K"],desc:"クイックジャンプパレット"},{keys:["`"],desc:"サイバーターミナルを開く"},{keys:["M"],desc:"ミニマップ表示切替"},{keys:["G"],desc:"Ghost Protocol (UV スキャン)"},{keys:["R"],desc:"マトリックスレイン切替"},{keys:["F"],desc:"FPSモニター切替"},{keys:["S"],desc:"シグナルインターセプター切替"},{keys:["Ctrl+Shift+D"],desc:"コアダンプHexビューア"},{keys:["Ctrl+Alt+Shift+P"],desc:"パケットスニファー"},{keys:["Ctrl+Shift+S"],desc:"CRTスキャンライン切替"},{keys:["↑↑↓↓←→←→BA"],desc:"レトロモード(5秒)"},{keys:["?"],desc:"このヘルプを表示"},{keys:["Esc"],desc:"閉じる"}];function p(){const[n,i]=c.useState(!1),o=c.useRef(null),l=c.useRef(null);return c.useEffect(()=>{const e=s=>{var a,r;if(s.key==="?"&&!s.ctrlKey&&!s.metaKey){const u=(a=document.activeElement)==null?void 0:a.tagName;if(["INPUT","TEXTAREA"].includes(u)||(r=document.activeElement)!=null&&r.isContentEditable)return;s.preventDefault(),i(k=>!k)}s.key==="Escape"&&n&&i(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),c.useEffect(()=>{n?(l.current=document.activeElement,requestAnimationFrame(()=>{var e;return(e=o.current)==null?void 0:e.focus()})):l.current&&(l.current.focus(),l.current=null)},[n]),c.useEffect(()=>{if(!n)return;const e=s=>{var a;s.key==="Tab"&&(s.preventDefault(),(a=o.current)==null||a.focus())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),t.jsx(y,{children:n&&t.jsx(d.div,{className:"kb-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),children:t.jsxs(d.div,{className:"kb-panel",ref:o,tabIndex:-1,role:"dialog","aria-modal":"true","aria-label":"キーボードショートカット",initial:{scale:.85,y:30},animate:{scale:1,y:0},exit:{scale:.85,y:30},onClick:e=>e.stopPropagation(),children:[t.jsx("h3",{className:"kb-panel__title",children:"⌨️ Keyboard Shortcuts"}),t.jsx("ul",{className:"kb-panel__list",children:m.map((e,s)=>t.jsxs("li",{className:"kb-panel__item",children:[t.jsx("span",{className:"kb-panel__keys",children:e.keys.map((a,r)=>t.jsx("kbd",{className:"kb-panel__kbd",children:a},r))}),t.jsx("span",{className:"kb-panel__desc",children:e.desc})]},s))}),t.jsx("p",{className:"kb-panel__hint",children:"Press ? or Esc to close"})]})})})}export{p as default};

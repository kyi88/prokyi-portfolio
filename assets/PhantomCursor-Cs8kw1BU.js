import{a as e,j as I}from"./framer-motion-DjJR-6Ks.js";const y=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,R=6e4,M=["profile","career","goals","status","gadgets","links"];function k(){const o=[];for(const c of M){const u=document.getElementById(c);if(u){const n=u.getBoundingClientRect();o.push({x:n.left+n.width*(.2+Math.random()*.6),y:n.top+window.scrollY+n.height*(.2+Math.random()*.6)})}}return o.push({x:window.innerWidth*.5,y:200},{x:window.innerWidth*.7,y:window.innerHeight*.5}),o}function C(){const[o,c]=e.useState(!1),u=e.useRef(null),n=e.useRef(null),a=e.useRef(null),d=e.useRef({x:0,y:0}),m=e.useRef({x:0,y:0}),f=e.useRef(0),i=e.useRef([]),p=e.useRef(!1),w=e.useCallback(()=>{p.current||(c(!1),clearTimeout(n.current),n.current=setTimeout(()=>c(!0),R))},[]);return e.useEffect(()=>{if(y)return;const s=["mousemove","keydown","scroll","touchstart","mousedown"];return s.forEach(r=>window.addEventListener(r,w,{passive:!0})),n.current=setTimeout(()=>c(!0),R),()=>{clearTimeout(n.current),s.forEach(r=>window.removeEventListener(r,w))}},[w]),e.useEffect(()=>{const s=()=>{p.current=!p.current,c(r=>!r)};return window.addEventListener("prokyi-phantom-toggle",s),()=>window.removeEventListener("prokyi-phantom-toggle",s)},[]),e.useEffect(()=>{if(!o||y){cancelAnimationFrame(a.current);return}if(i.current=k(),i.current.length===0)return;f.current=0;const s=window.scrollY,r=i.current[0];d.current={x:r.x,y:r.y-s},m.current={...d.current},x();function x(){f.current=(f.current+1)%i.current.length;const t=i.current[f.current];m.current={x:t.x,y:t.y-window.scrollY}}function g(){const t=d.current,l=m.current,E=.008;t.x+=(l.x-t.x)*E,t.y+=(l.y-t.y)*E;const h=u.current;h&&(h.style.left=`${t.x}px`,h.style.top=`${t.y}px`);const v=l.x-t.x,T=l.y-t.y;Math.abs(v)<20&&Math.abs(T)<20&&x(),a.current=requestAnimationFrame(g)}return a.current=requestAnimationFrame(g),()=>cancelAnimationFrame(a.current)},[o]),y?null:I.jsx("div",{ref:u,className:`phantom-cursor${o?" phantom-cursor--active":""}`,"aria-hidden":"true"})}const L=e.memo(C);export{L as default};

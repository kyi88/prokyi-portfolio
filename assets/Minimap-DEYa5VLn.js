import{a as i,j as a,A as f,m as c}from"./framer-motion-DjJR-6Ks.js";const s=[{id:"profile",label:"Profile"},{id:"career",label:"Career"},{id:"goals",label:"Goals"},{id:"status",label:"Status"},{id:"gadgets",label:"Gadgets"},{id:"links",label:"Links"}];function E(){const[d,p]=i.useState(""),[x,m]=i.useState(null),[y,b]=i.useState(!1),[v,w]=i.useState(!1);i.useEffect(()=>{const e=t=>{t.target.tagName==="INPUT"||t.target.tagName==="TEXTAREA"||t.target.isContentEditable||(t.key==="m"||t.key==="M")&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&w(l=>!l)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);const r=i.useRef(null);i.useEffect(()=>{let e=null;const t=()=>{b(window.scrollY>400),r.current||(r.current=s.map(n=>document.getElementById(n.id)));const u=window.scrollY+window.innerHeight/2;for(let n=0;n<s.length;n++){const o=r.current[n];if(o&&u>=o.offsetTop&&u<o.offsetTop+o.offsetHeight){p(s[n].id);break}}},l=()=>{e||(e=requestAnimationFrame(()=>{e=null,t()}))};return window.addEventListener("scroll",l,{passive:!0}),t(),()=>{window.removeEventListener("scroll",l),e&&cancelAnimationFrame(e)}},[]);const g=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})};return a.jsx(f,{children:y&&!v&&a.jsxs(c.nav,{className:"minimap",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4},"aria-label":"セクションナビ",children:[s.map(e=>a.jsxs("button",{className:`minimap__dot ${d===e.id?"is-active":""}`,onClick:()=>g(e.id),onMouseEnter:()=>m(e.id),onMouseLeave:()=>m(null),"aria-label":e.label,children:[a.jsx("span",{className:"minimap__pip"}),a.jsx(f,{children:x===e.id&&a.jsx(c.span,{className:"minimap__label",initial:{opacity:0,x:8,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:8,scale:.8},transition:{duration:.15},children:e.label})})]},e.id)),a.jsx(c.div,{className:"minimap__track",animate:{top:`${Math.max(0,s.findIndex(e=>e.id===d))*28+6}px`},transition:{type:"spring",stiffness:300,damping:25}})]})})}export{E as default};

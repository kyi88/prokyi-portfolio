import{a as t,j as r,A as d,m as y}from"./framer-motion-DjJR-6Ks.js";function w(){const[i,u]=t.useState(!1),[m,l]=t.useState(0),[f,p]=t.useState(null),s=t.useRef(null),a=t.useRef(0),c=t.useRef(performance.now());return t.useEffect(()=>{const n=e=>{e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA"||e.target.isContentEditable||(e.key==="f"||e.key==="F")&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&u(o=>!o)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[]),t.useEffect(()=>{if(!i)return;a.current=0,c.current=performance.now();const n=()=>{a.current++;const e=performance.now(),o=e-c.current;o>=1e3&&(l(Math.round(a.current*1e3/o)),a.current=0,c.current=e,performance.memory&&p(Math.round(performance.memory.usedJSHeapSize/1048576))),s.current=requestAnimationFrame(n)};return s.current=requestAnimationFrame(n),()=>{s.current&&cancelAnimationFrame(s.current)}},[i]),r.jsx(d,{children:i&&r.jsxs(y.div,{className:"fps-monitor",initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{duration:.2},"aria-label":"パフォーマンスモニター",children:[r.jsxs("span",{className:`fps-monitor__fps ${m<30?"fps-monitor__fps--low":""}`,children:[m," FPS"]}),f!==null&&r.jsxs("span",{className:"fps-monitor__mem",children:[f," MB"]}),r.jsx("span",{className:"fps-monitor__hint",children:"Press F to close"})]})})}const E=t.memo(w);export{E as default};
